[Metadata]
Skin name=AddGadgets.com styled GridcoinStats Tracker
Version=1.1
Information=AddGadgets.com styled GridcoinStats Tracker
Author=dudebaker
Licence=N/A

[Rainmeter]
Update=1000
AccurateText=1
Group=GRCStatsTracker
MiddleMouseUpAction=[!Refresh]
MouseOverAction=[!SetOption mtrSettings ImageAlpha 255][!UpdateMeter mtrSettings][!Redraw]
MouseLeaveAction=[!SetOption mtrSettings ImageAlpha 0][!UpdateMeter mtrSettings][!Redraw]
LeftMouseUpAction=!Execute [#url#]

[Variables]
; External Variables
VarPath="#@#\GridcoinStatsTrackerVariables.inc"
@include=#VarPath#
; Design Variables
FontName=Segoe UI
FontColorTitle=255,204,0,255
FontColorName=107,198,250,255
; Fix Variables
url=https://gridcoinstats.eu/cpid/#CPID#
borderSize=1
padding=(#borderSize# * 2)
mtrBr1=(#padding# + #borderSize#)
mtrBr2=(#mtrBr1# + #borderSize#)
mtrBr3=(#mtrBr2# + #borderSize#)
mtrBg=(#mtrBr3# + #borderSize#)
W=(#Width# + #padding# + #mtrBg# * 2)
H=(#Height# + #padding# + #mtrBg# * 2)

; Styles
[styleTitle]
FontColor=255,255,255,255
FontSize=9
FontFace=#FontName#
StringAlign=Center
StringStyle=Bold
AntiAlias=1

[styleName]
FontSize=8
FontFace=#FontName#
FontColor=#FontColorTitle#
StringAlign=Left
StringStyle=Bold
AntiAlias=1

[styleValue]
FontSize=8
FontFace=#FontName#
FontColor=#FontColorName#
StringAlign=Right
AntiAlias=1
DynamicVariables=1

[styleSeparator]
SolidColor=107,198,250,128
Antialias=1
H=1

; GridcoinStats Plugins
[plgGetGridcoinStats]
Measure=Plugin
Plugin=WebParser
URL=#url#
; for testing/modifing the regex... https://regex101.com/r/MZSzt7/1
RegExp=(?siU)Gridcoin user (.*)\(CPID:(.*)\)\..*Magnitude: (.*) Magnitude.*Last Staked Block: (.*)\n.*<p>Estimated Minted\/Day: <\/p>(.*)<\/div>.*<p>Estimated Interest\/Day: <\/p>(.*)<\/div>.*<p>Time Since Last Reward: <\/p>(.*)<\/div>.*<p>Estimated Research Owed: <\/p>(.*)<\/div>.*<p>Estimated Interest Owed: <\/p>(.*)<\/div>.*Last Updated: (.*)<\/span>.*<p>Total RAC:<\/p>(.*)&nbsp;.*<td>Total Assets<\/td><td style='text-align: right'>(.*)GRC
UpdateRate=60

[plgGetGridCoinUsername]
Measure=Plugin
Plugin=WebParser
URL=[plgGetGridcoinStats]
StringIndex=1
UpdateRate=60

[plgGetGridCoinCPID]
Measure=Plugin
Plugin=WebParser
URL=[plgGetGridcoinStats]
StringIndex=2
UpdateRate=60

[plgGetGridCoinMagnitude]
Measure=Plugin
Plugin=WebParser
URL=[plgGetGridcoinStats]
StringIndex=3
UpdateRate=60

[calcGetGridCoinMagnitude]
Measure=Calc
Formula=[plgGetGridCoinMagnitude]
DynamicVariables=1
UpdateRate=60

[plgGetGridCoinLastStakedBlock]
Measure=Plugin
Plugin=WebParser
URL=[plgGetGridcoinStats]
StringIndex=4
UpdateRate=60

[plgGetGridCoinPoR]
Measure=Plugin
Plugin=WebParser
URL=[plgGetGridcoinStats]
StringIndex=5
UpdateRate=60

[plgGetGridCoinPoS]
Measure=Plugin
Plugin=WebParser
URL=[plgGetGridcoinStats]
StringIndex=6
UpdateRate=60

[plgGetGridCoinTimeSinceLastReward]
Measure=Plugin
Plugin=WebParser
URL=[plgGetGridcoinStats]
StringIndex=7
UpdateRate=60

[plgGetGridCoinOwedPoR]
Measure=Plugin
Plugin=WebParser
URL=[plgGetGridcoinStats]
StringIndex=8
UpdateRate=60

[plgGetGridCoinOwedPoS]
Measure=Plugin
Plugin=WebParser
URL=[plgGetGridcoinStats]
StringIndex=9
UpdateRate=60

[plgGetGridCoinLastUpdated]
Measure=Plugin
Plugin=WebParser
URL=[plgGetGridcoinStats]
StringIndex=10
UpdateRate=60

[plgGetGridCoinRAC]
Measure=Plugin
Plugin=WebParser
URL=[plgGetGridcoinStats]
StringIndex=11
UpdateRate=60

[plgGetGridCoinWallet]
Measure=Plugin
Plugin=WebParser
URL=[plgGetGridcoinStats]
StringIndex=12
UpdateRate=60

; Meters
[mtrBackgroundBase]
Meter=Image
SolidColor=0,0,0,1
Antialias=1
X=0
Y=0
W=#W#
H=#H#
UpdateDivider=-1

[mtrBorder1]
Meter=Image
SolidColor=0,0,0,127.5
Antialias=1
X=#mtrBr1#
Y=#mtrBr1#
W=(#W# - #padding# - #mtrBr1# * 2)
H=(#H# - #padding# - #mtrBr1# * 2)
UpdateDivider=-1

[mtrBorder2]
Meter=Image
SolidColor=0,0,0,255
Antialias=1
X=#mtrBr2#
Y=#mtrBr2#
W=(#W# - #padding# - #mtrBr2# * 2)
H=(#H# - #padding# - #mtrBr2# * 2)
UpdateDivider=-1

[mtrBorder3]
Meter=Image
SolidColor=164,160,160,255
Antialias=1
X=#mtrBr3#
Y=#mtrBr3#
W=(#W# - #padding# - #mtrBr3# * 2)
H=(#H# - #padding# - #mtrBr3# * 2)
UpdateDivider=-1

[mtrBackground]
Meter=Image
SolidColor=70,70,70,255
SolidColor2=0,0,0,255
GradientAngle=90
Antialias=1
X=#mtrBg#
Y=#mtrBg#
W=(#W# - #padding# - #mtrBg# * 2)
H=(#H# - #padding# - #mtrBg# * 2)
UpdateDivider=-1

[mtrGridcoinIcon]
Meter=Image
ImageName=#@#Images\Gridcoin.png
Antialias=1
X=(#mtrBg# + 2)
Y=(#mtrBg# + 2)
W=32
H=32
Hidden=0
UpdateDivider=-1

[mtrStrTitle]
Meter=String
MeterStyle=styleTitle
Text="GridcoinStats Tracker"
ClipString=1
X=(#W#/2)
Y=#mtrBg#
W=80
H=30

; GridcoinStats meters
[mtrStrUsername]
Meter=String
MeterStyle=styleName
Text=Username:
X=(#mtrBg# + #padding# * 2)
Y=2R

[mtrStrUsernameValue]
Meter=String
MeasureName=plgGetGridCoinUsername
MeterStyle=styleValue
X=(#W# - #padding# * 6)
Y=-14.5R
W=(#W# / 2)

[mtrStrMagnitude]
Meter=String
MeterStyle=styleName
Text=Mag:
X=(#mtrBg# + #padding# * 2)
Y=2R

[mtrStrMagnitudeValue]
Meter=String
MeasureName=calcGetGridCoinMagnitude
MeterStyle=styleValue
NumOfDecimals=2
X=(#W# - #padding# * 6)
Y=-14.5R
W=(#W# / 2)

[mtrStrRAC]
Meter=String
MeterStyle=styleName
Text=RAC:
X=(#mtrBg# + #padding# * 2)
Y=2R

[mtrStrRACValue]
Meter=String
MeasureName=plgGetGridCoinRAC
MeterStyle=styleValue
X=(#W# - #padding# * 6)
Y=-14.5R
W=(#W# / 2)

[mtrStrPoR]
Meter=String
MeterStyle=styleName
Text=PoR:
X=(#mtrBg# + #padding# * 2)
Y=2R

[mtrStrPoRValue]
Meter=String
MeasureName=plgGetGridCoinPoR
MeterStyle=styleValue
X=(#W# - #padding# * 6)
Y=-14.5R
W=(#W# / 2)

[mtrStrPoS]
Meter=String
MeterStyle=styleName
Text=PoS:
X=(#mtrBg# + #padding# * 2)
Y=2R

[mtrStrPoSValue]
Meter=String
MeasureName=plgGetGridCoinPoS
MeterStyle=styleValue
X=(#W# - #padding# * 6)
Y=-14.5R
W=(#W# / 2)

; Owed
[mtrSeparatorOwed]
Meter=Image
MeterStyle=styleSeparator
X=(#mtrBg# + #padding# + 1)
Y=6R
W=(#W# - 20)

[mtrStrOwedPoR]
Meter=String
MeterStyle=styleName
Text=Owed PoR:
X=(#mtrBg# + #padding# * 2)
Y=2R

[mtrStrOwedPoRValue]
Meter=String
MeasureName=plgGetGridCoinOwedPoR
MeterStyle=styleValue
X=(#W# - #padding# * 6)
Y=-14.5R
W=(#W# / 2)

[mtrStrOwedPoS]
Meter=String
MeterStyle=styleName
Text=Owed PoS:
X=(#mtrBg# + #padding# * 2)
Y=2R

[mtrStrOwedPoSValue]
Meter=String
MeasureName=plgGetGridCoinOwedPoS
MeterStyle=styleValue
X=(#W# - #padding# * 6)
Y=-14.5R
W=(#W# / 2)

[mtrStrWallet]
Meter=String
MeterStyle=styleName
Text=Wallet:
X=(#mtrBg# + #padding# * 2)
Y=2R

[mtrStrWalletValue]
Meter=String
MeasureName=plgGetGridCoinWallet
MeterStyle=styleValue
Text=%1GRC
X=(#W# - #padding# * 6)
Y=-14.5R
W=(#W# / 2)

; Dates
[mtrSeparatorDates]
Meter=Image
MeterStyle=styleSeparator
X=(#mtrBg# + #padding# + 1)
Y=6R
W=(#W# - 20)

[mtrStrLastStakedBlock]
Meter=String
MeterStyle=styleName
Text=Last staked block:
X=(#mtrBg# + #padding# * 2)
Y=2R

[mtrStrLastStakedBlockValue]
Meter=String
MeasureName=plgGetGridCoinLastStakedBlock
MeterStyle=styleValue
Text=%1 UTC
X=(#W# - #padding# * 6)
Y=1R
W=(#W# / 2)

[mtrStrLastUpdate]
Meter=String
MeterStyle=styleName
Text=Last statistic update:
X=(#mtrBg# + #padding# * 2)
Y=2R

[mtrStrLastUpdateValue]
Meter=String
MeasureName=plgGetGridCoinLastUpdated
MeterStyle=styleValue
X=(#W# - #padding# * 6)
Y=1R
W=(#W# / 2)

;Settings
[mtrSettings]
Meter=Image
ImageName=#@#Images\btn_settings.png
Antialias=1
X=(#W# - #mtrBg# - 17)
Y=(#mtrBg# + 2)
W=12
H=12
LeftMouseUpAction=[!ToggleConfig "#CURRENTCONFIG#\Config" "Settings.ini"]